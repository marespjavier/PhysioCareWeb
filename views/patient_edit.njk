{% extends "base.njk" %}

{% block titulo %}Pacientes | Editar{% endblock %}

{% block contenido %}

    <h1>Edición de paciente existente</h1>

    {% if (patient) %}

        {% if errores.general %}
            <p class="alert alert-danger">{{ errores.general }}</p>
        {% endif %}

       <form action="/patients/{{ patient._id }}?_method=PUT" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label for="name">Nombre:</label>
                <input type="text" class="form-control" name="name" 
                    placeholder="Nombre del paciente..." value="{{ patient.name }}"/>
                {% if errores.name %}
                    <p class="text-danger">{{ errores.name }}</p>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="surname">Apellido:</label>
                <input type="text" class="form-control" name="surname"
                    placeholder="Apellido del paciente..." value="{{ patient.surname }}"/>
                {% if errores.surname %}
                    <p class="text-danger">{{ errores.surname }}</p>
                {% endif %}
            </div>
             <div class="form-group">
            <label for="birthDate">birthdate:</label>
            <input type="date" class="form-control" name="birthDate" 
            placeholder="Fecha de nacimiento..." value="{{ patient.birthDate }}">
            {% if errores.birthDate %}
                <p class="text-danger">{{ errores.birthDate }}</p>
            {% endif %}
            </div>
             <div class="form-group">
            <label for="address">Address:</label>            
            <input type="text" class="form-control" name="address"
                placeholder="Dirección del paciente..." value="{{ patient.address }}">
            {% if errores.address %}
                <p class="text-danger">{{ errores.address }}</p>
            {% endif %}
            </div>
            <div class="form-group">
            <label for="insuranceNumber">insuranceNumber:</label>            
            <input type="text" class="form-control" name="insuranceNumber"
                placeholder="insuranceNumber del paciente..." value="{{ patient.insuranceNumber }}">
            {% if errores.insuranceNumber %}
                <p class="text-danger">{{ errores.insuranceNumber }}</p>
            {% endif %}
            </div>
            <div class="form-group">
            <label for="imagen">Imagen</label>
            <input type="file" class="form-control" name="imagen"
                placeholder="Foto del paciente..." />
            {% if errores.imagen %}
                <p class="text-danger">{{ patient.imagen }}</p>
            {% endif %}
            </div>
            <button type="submit" class="btn btn-primary">Editar paciente</button>
        </form>
    {% else %}
        <div class="alert alert-danger">Paciente no especificado</div>
    {% endif %}
{% endblock %}