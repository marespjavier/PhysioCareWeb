{% extends "base.njk" %}

{% block titulo %}Añadir Cita{% endblock %}

{% block contenido %}
    <h1>Añadir Cita al Expediente Médico</h1>

    {% if errores.general %}
        <p class="alert alert-danger">{{ errores.general }}</p>
    {% endif %}

    <form action="/records/{{ recordId }}/appointments" method="post">
        <!-- Fecha de la cita -->
        <div class="form-group">
            <label for="date">Fecha:</label>
            <input type="date" class="form-control" name="date" value="{{ datos.date }}">
            {% if errores.date %}
                <p class="text-danger">{{ errores.date }}</p>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="physio">Fisioterapeuta:</label>
            <input type="text" class="form-control" name="physio" placeholder="ID del fisioterapeuta" value="{{ datos.physio }}">
            {% if errores.physio %}
                <p class="text-danger">{{ errores.physio }}</p>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="diagnosis">Diagnóstico:</label>
            <textarea name="diagnosis" class="form-control" placeholder="Especifica el diagnóstico">{{ datos.diagnosis }}</textarea>
            {% if errores.diagnosis %}
                <p class="text-danger">{{ errores.diagnosis }}</p>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="treatment">Tratamiento:</label>
            <textarea name="treatment" class="form-control" placeholder="Especifica el tratamiento">{{ datos.treatment }}</textarea>
            {% if errores.treatment %}
                <p class="text-danger">{{ errores.treatment }}</p>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="observations">Observaciones:</label>
            <textarea name="observations" class="form-control" placeholder="Añade observaciones (opcional)">{{ datos.observations }}</textarea>
            {% if errores.observations %}
                <p class="text-danger">{{ errores.observations }}</p>
            {% endif %}
        </div>
        
        <button type="submit" class="btn btn-primary">Añadir Cita</button>
    </form>
{% endblock %}
